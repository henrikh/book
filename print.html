<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Embedded Rust Book</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro:500" rel="stylesheet" type="text/css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body class="light">
        <!-- Provide site root to javascript -->
        <script type="text/javascript">var path_to_root = "";</script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { } 
            if (theme === null || theme === undefined) { theme = 'light'; }
            document.body.className = theme;
            document.querySelector('html').className = theme + ' js';
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <ol class="chapter"><li><a href="intro/introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li><a href="intro/install.html"><strong aria-hidden="true">1.1.</strong> Installation</a></li><li><ol class="section"><li><a href="intro/install/linux.html"><strong aria-hidden="true">1.1.1.</strong> Linux</a></li><li><a href="intro/install/macos.html"><strong aria-hidden="true">1.1.2.</strong> MacOS</a></li><li><a href="intro/install/windows.html"><strong aria-hidden="true">1.1.3.</strong> Windows</a></li><li><a href="intro/install/verify.html"><strong aria-hidden="true">1.1.4.</strong> Verify Installation</a></li></ol></li><li><a href="intro/tooling.html"><strong aria-hidden="true">1.2.</strong> Tooling</a></li><li><a href="intro/hardware.html"><strong aria-hidden="true">1.3.</strong> Hardware</a></li><li><a href="intro/no-std.html"><strong aria-hidden="true">1.4.</strong> no_std</a></li></ol></li><li><a href="blinky/blinky.html"><strong aria-hidden="true">2.</strong> Blinking your first LED</a></li><li><a href="static-guarantees/static-guarantees.html"><strong aria-hidden="true">3.</strong> Static Guarantees</a></li><li><a href="portability/portability.html"><strong aria-hidden="true">4.</strong> Portability</a></li><li><a href="singletons/singletons.html"><strong aria-hidden="true">5.</strong> Singletons</a></li><li><a href="concurrency/concurrency.html"><strong aria-hidden="true">6.</strong> Concurrency</a></li><li><a href="dynamic/dynamic.html"><strong aria-hidden="true">7.</strong> Dynamic Data Structures</a></li><li><a href="c-tips/c-tips.html"><strong aria-hidden="true">8.</strong> Tips for embedded C developers</a></li><li><a href="interoperability/interoperability.html"><strong aria-hidden="true">9.</strong> Interoperability</a></li><li><ol class="section"><li><a href="interoperability/c-with-rust.html"><strong aria-hidden="true">9.1.</strong> A little C with your Rust</a></li><li><a href="interoperability/rust-with-c.html"><strong aria-hidden="true">9.2.</strong> A little Rust with your C</a></li></ol></li></ol>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar" class="menu-bar">
                    <div id="menu-bar-sticky-container">
                        <div class="left-buttons">
                            <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                                <i class="fa fa-bars"></i>
                            </button>
                            <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                                <i class="fa fa-paint-brush"></i>
                            </button>
                            <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                                <li role="none"><button role="menuitem" class="theme" id="light">Light <span class="default">(default)</span></button></li>
                                <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                                <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                            </ul>
                            
                            <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                                <i class="fa fa-search"></i>
                            </button>
                            
                        </div>

                        <h1 class="menu-title">The Embedded Rust Book</h1> 

                        <div class="right-buttons">
                            <a href="print.html" title="Print this book" aria-label="Print this book">
                                <i id="print-button" class="fa fa-print"></i>
                            </a>
                        </div>
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <a class="header" href="#introduction" id="introduction"><h1>Introduction</h1></a>
<p>Welcome to &quot;The Embedded Rust Book&quot;, an introductory book about using the Rust Programming Language on &quot;Bare Metal&quot; embedded systems, such as Microcontrollers.</p>
<a class="header" href="#who-embedded-rust-is-for" id="who-embedded-rust-is-for"><h2>Who Embedded Rust is For</h2></a>
<p><code>TODO</code></p>
<a class="header" href="#who-this-book-is-for" id="who-this-book-is-for"><h2>Who This Book is For</h2></a>
<p>This book assumes the following:</p>
<ul>
<li>You are comfortable using the Rust Programming Language, and have written, run, and debugged Rust applications on a desktop environment</li>
<li>You are comfortable developing and debugging embedded systems in another language such as C, C++, or ADA, and are familiar with concepts such as:
<ul>
<li>Cross Compilation</li>
<li>Linker Scripts</li>
<li>Memory Mapped Peripherals</li>
<li>Interrupts</li>
<li>Common interfaces such as I2C, SPI, Serial, and others</li>
</ul>
</li>
</ul>
<p>If you are not yet comfortable with Rust, we highly suggest completing the <a href="https://doc.rust-lang.org/book/second-edition">Rust Book</a> before attempting to learn with this book.</p>
<p>If you are not yet comfortable with Embedded Systems, we highly suggest <code>LEARNING WITH OTHER RESOURCES</code> before attempting to learn with this book.</p>
<a class="header" href="#how-to-use-this-book" id="how-to-use-this-book"><h2>How to Use This Book</h2></a>
<p>This book generally assumes that you’re reading it front-to-back, that is, later chapters build on top of concepts in earlier chapters, and earlier chapters may not dig into details on a topic, revisiting the topic in a later chapter.</p>
<p>This book will be using the <a href="http://www.st.com/en/evaluation-tools/stm32f3discovery.html">STMF3DISCOVERY</a> development board from STMicroelectronics for the majority of the examples contained within. This board is based on the ARM Cortex-M architecture, and while basic functionality is common across most CPUs based on this architecture, peripherals and other implementation details of Microcontrollers are different between different vendors, and often even different between Microcontroller families from the same vendor.</p>
<p>For this reason, we suggest purchasing the <a href="http://www.st.com/en/evaluation-tools/stm32f3discovery.html">STMF3DISCOVERY</a> development board for the purpose of following this book.</p>
<a class="header" href="#contributing-to-this-book" id="contributing-to-this-book"><h2>Contributing to This Book</h2></a>
<p>Until the initial release of this book (planned to coincide with the 2018 Era release of the Rust Programming Language), the work on this book will be coordinated in <a href="https://github.com/rust-lang-nursery/embedded-wg/issues/56">this tracking issue</a> of the <a href="https://github.com/rust-lang-nursery/embedded-wg">Embedded Working Group</a> repository.</p>
<p>Pull requests are very welcome.</p>
<blockquote>
<p><strong>⚠️: This section contains exports from <a href="https://japaric.github.io/discovery/">Japaric's Discovery</a> book.</strong></p>
<p>Contents should be reviewed for consistency in the context
of this book before &quot;publishing&quot;</p>
</blockquote>
<blockquote>
<p><strong>⚠️: This section still references <code>nightly</code> Rust</strong></p>
<p>Contents should be updated to work on <code>stable</code> Rust when possible</p>
</blockquote>
<blockquote>
<p><strong>⚠️: This section has not been checked as of 2018-07-29</strong></p>
<p>Contents should be checked to still be working with current <code>nightly</code>
or <code>stable</code> Rust</p>
</blockquote>
<a class="header" href="#setting-up-a-development-environment" id="setting-up-a-development-environment"><h1>Setting up a development environment</h1></a>
<p>Dealing with microcontrollers involves several tools as we'll be dealing with an architecture
different than your laptop's and we'll have to run and debug programs on a &quot;remote&quot; device.</p>
<a class="header" href="#documentation" id="documentation"><h2>Documentation</h2></a>
<p>Tooling is not everything though. Without documentation is pretty much impossible to work with microcontrollers.</p>
<p>We'll be referring to all these documents throughout this book:</p>
<p><em>HEADS UP</em> All these links point to PDF files and some of them are hundreds of pages long and
several MBs in size.</p>
<ul>
<li><a href="http://www.st.com/resource/en/user_manual/dm00063382.pdf">STM32F3DISCOVERY User Manual</a></li>
<li><a href="http://www.st.com/resource/en/datasheet/stm32f303vc.pdf">STM32F303VC Datasheet</a></li>
<li><a href="http://www.st.com/resource/en/reference_manual/dm00043574.pdf">STM32F303VC Reference Manual</a></li>
<li><a href="http://www.st.com/resource/en/datasheet/lsm303dlhc.pdf">LSM303DLHC</a></li>
<li><a href="http://www.st.com/resource/en/datasheet/l3gd20.pdf">L3GD20</a></li>
</ul>
<a class="header" href="#tools" id="tools"><h2>Tools</h2></a>
<p>We'll use all the tools listed below. Where a minimum version is not specified, any recent version should work but we have listed the version we have tested.</p>
<ul>
<li>
<p>Cargo &amp; <code>rustc</code> &gt;= nightly-2018-06-04</p>
</li>
<li>
<p><a href="https://crates.io/crates/itm"><code>itmdump</code></a> v0.2.1</p>
</li>
<li>
<p>OpenOCD &gt;=0.8. Tested versions: v0.9.0 and v0.10.0</p>
</li>
<li>
<p><code>arm-none-eabi-gcc</code>. Tested version: ?.??</p>
</li>
<li>
<p><code>arm-none-eabi-binutils</code></p>
<ul>
<li><code>arm-none-eabi-ld</code>. Tested version: 2.30</li>
<li><code>arm-none-eabi-gdb</code>. Version 7.12 or newer highly recommended. Tested versions: 7.10, 7.11,
7.12 and 8.1</li>
</ul>
</li>
<li>
<p><code>minicom</code> on Linux and macOS. Tested version: 2.7. Readers report that <code>picocom</code> also works but
we'll use <code>minicom</code> in this text.</p>
</li>
<li>
<p><code>PuTTY</code> on Windows.</p>
</li>
</ul>
<p>Next, follow OS-agnostic installation instructions for a few of the tools:</p>
<a class="header" href="#rustc--cargo" id="rustc--cargo"><h3><code>rustc</code> &amp; Cargo</h3></a>
<p>Install rustup by following the instructions at <a href="https://rustup.rs">https://rustup.rs</a>.</p>
<p>Then, install or switch to the nightly channel.</p>
<pre><code class="language-console">$ rustup default nightly
</code></pre>
<p><strong>NOTE</strong> Make sure you have a nightly newer than <code>nightly-2018-06-04</code>. <code>rustc -V</code> should return a
date newer than the one shown below:</p>
<pre><code class="language-console">$ rustc -V
rustc 1.28.0-nightly (29f48ccf3 2018-06-03)
</code></pre>
<a class="header" href="#itmdump" id="itmdump"><h3><code>itmdump</code></h3></a>
<pre><code class="language-console">$ cargo install itm --vers 0.2.1
</code></pre>
<a class="header" href="#os-specific-instructions" id="os-specific-instructions"><h3>OS specific instructions</h3></a>
<p>Now follow the instructions specific to the OS you are using:</p>
<ul>
<li><a href="/intro/install/linux.html">Linux</a></li>
<li><a href="/intro/install/windows.html">Windows</a></li>
<li><a href="/intro/install/macos.html">macOS</a></li>
</ul>
<blockquote>
<p><strong>⚠️: This section contains exports from <a href="https://japaric.github.io/discovery/">Japaric's Discovery</a> book.</strong></p>
<p>Contents should be reviewed for consistency in the context
of this book before &quot;publishing&quot;</p>
</blockquote>
<blockquote>
<p><strong>⚠️: This section has not been checked as of 2018-07-29</strong></p>
<p>Contents should be checked to still be working with current <code>nightly</code>
or <code>stable</code> Rust</p>
</blockquote>
<a class="header" href="#linux" id="linux"><h1>Linux</h1></a>
<p>Here are the installation commands for a few Linux distributions.</p>
<a class="header" href="#required-packages" id="required-packages"><h2>REQUIRED packages</h2></a>
<ul>
<li>Ubuntu 16.04 or newer / Debian Jessie or newer</li>
</ul>
<pre><code class="language-console">$ sudo apt-get install \
  binutils-arm-none-eabi \
  gdb-arm-none-eabi \
  minicom \
  openocd
</code></pre>
<ul>
<li>Fedora 23 or newer</li>
</ul>
<pre><code class="language-console">$ sudo dnf install \
  arm-none-eabi-gcc-cs \
  arm-none-eabi-gdb \
  minicom \
  openocd
</code></pre>
<ul>
<li>Arch Linux</li>
</ul>
<pre><code class="language-console">$ sudo pacman -S \
  arm-none-eabi-gcc \
  arm-none-eabi-gdb \
  arm-none-eabi-gcc \
  minicom

$ yaourt -S openocd
</code></pre>
<a class="header" href="#udev-rules" id="udev-rules"><h2>udev rules</h2></a>
<p>These rules let you use USB devices like the F3 and the Serial module without root privilege, i.e.
<code>sudo</code>.</p>
<p>Create these two files in <code>/etc/udev/rules.d</code> with the contents shown below.</p>
<pre><code class="language-console">$ cat /etc/udev/rules.d/99-ftdi.rules
</code></pre>
<pre><code class="language-text"># FT232 - USB &lt;-&gt; Serial Converter
ATTRS{idVendor}==&quot;0403&quot;, ATTRS{idProduct}==&quot;6001&quot;, GROUP=&quot;uucp&quot;
</code></pre>
<pre><code class="language-console">$ cat /etc/udev/rules.d/99-openocd.rules
</code></pre>
<pre><code class="language-text"># STM32F3DISCOVERY rev A/B - ST-LINK/V2
ATTRS{idVendor}==&quot;0483&quot;, ATTRS{idProduct}==&quot;3748&quot;, GROUP=&quot;uucp&quot;

# STM32F3DISCOVERY rev C+ - ST-LINK/V2-1
ATTRS{idVendor}==&quot;0483&quot;, ATTRS{idProduct}==&quot;374b&quot;, GROUP=&quot;uucp&quot;
</code></pre>
<p>Then reload the udev rules with:</p>
<pre><code class="language-console">$ sudo udevadm control --reload-rules
</code></pre>
<p>If you had any board plugged to your laptop, unplug them and then plug them in again.</p>
<p>Finally, check if you are in the <code>uucp</code> group.</p>
<pre><code class="language-console">$ groups $(id -nu)
(..) uucp (..)
$ #  ^^^^
</code></pre>
<p>(<code>$(id -nu)</code> returns your user name. In my case it's <code>japaric</code>.)</p>
<p>If <code>uucp</code> appears in the output. You are all set! Go to the <a href="/intro/install/verify.html">next section</a>. Otherwise, keep reading:</p>
<ul>
<li>Add yourself to the <code>uucp</code> group.</li>
</ul>
<pre><code class="language-console">$ sudo usermod -a -G uucp $(id -u -n)
</code></pre>
<ul>
<li>Check again the output of <code>groups</code>. <code>uucp</code> should be there this time!</li>
</ul>
<pre><code class="language-console">$ groups $(id -nu)
(..) uucp (..)
$ #  ^^^^
</code></pre>
<p>You'll have to re-log for these changes to take effect. You have two options:</p>
<p>You can reboot or log out from your current session and then log in; this will close all the
programs you have open right now.</p>
<p>The other option is to use the command below:</p>
<pre><code class="language-console">$ su - $(id -nu)
</code></pre>
<p>to re-log <em>only in the current shell</em> and get access to <code>uucp</code> devices <em>only on that shell</em>. Other
shells <em>won't</em> have access to <code>uucp</code> devices unless you manually re-log on them with the same <code>su</code>
command.</p>
<p>Now, go to the <a href="/intro/install/verify.html">next section</a>.</p>
<blockquote>
<p><strong>⚠️: This section contains exports from <a href="https://japaric.github.io/discovery/">Japaric's Discovery</a> book.</strong></p>
<p>Contents should be reviewed for consistency in the context
of this book before &quot;publishing&quot;</p>
</blockquote>
<blockquote>
<p><strong>⚠️: This section has not been checked as of 2018-07-29</strong></p>
<p>Contents should be checked to still be working with current <code>nightly</code>
or <code>stable</code> Rust</p>
</blockquote>
<a class="header" href="#macos" id="macos"><h1>MacOS</h1></a>
<p>All the tools can be install using <a href="http://brew.sh/">Homebrew</a>:</p>
<pre><code class="language-console">$ brew cask install gcc-arm-embedded
$ brew install minicom openocd
</code></pre>
<p>If the <code>brew cask</code> command doesn't work (<code>Error: Unknown command: cask</code>), then run <code>brew tap Caskroom/tap</code> first and try again.</p>
<p>That's all! Go to the <a href="/intro/install/verify.html">next section</a>.</p>
<blockquote>
<p><strong>⚠️: This section contains exports from <a href="https://japaric.github.io/discovery/">Japaric's Discovery</a> book.</strong></p>
<p>Contents should be reviewed for consistency in the context
of this book before &quot;publishing&quot;</p>
</blockquote>
<blockquote>
<p><strong>⚠️: This section has not been checked as of 2018-07-29</strong></p>
<p>Contents should be checked to still be working with current <code>nightly</code>
or <code>stable</code> Rust</p>
</blockquote>
<a class="header" href="#windows" id="windows"><h1>Windows</h1></a>
<a class="header" href="#arm-none-eabi-" id="arm-none-eabi-"><h2><code>arm-none-eabi-*</code></h2></a>
<p>ARM provides <code>.exe</code> installers for Windows. Grab one from <a href="https://developer.arm.com/open-source/gnu-toolchain/gnu-rm/downloads">here</a>, and follow the instructions.
Just before the installation process finishes tick/select the &quot;Add path to environment variable&quot;
option. Then verify that the tools are in your <code>%PATH%</code>:</p>
<pre><code class="language-console">$ arm-none-eabi-gcc -v
(..)
gcc version 5.4.1 20160919 (release) (..)
</code></pre>
<a class="header" href="#openocd" id="openocd"><h2>OpenOCD</h2></a>
<p>There's no official binary release of OpenOCD for Windows but there are unofficial releases
available <a href="https://github.com/gnu-mcu-eclipse/openocd/releases">here</a>. Grab the 0.10.x zipfile and extract it somewhere in your drive (I
recommend <code>C:\OpenOCD</code> but with the drive letter that makes sense to you) then update your <code>%PATH%</code>
environment variable to include the following path: <code>C:\OpenOCD\bin</code> (or the path that you used
before).</p>
<p>Verify that OpenOCD is in yout <code>%PATH%</code> with:</p>
<pre><code class="language-console">$ openocd -v
Open On-Chip Debugger 0.10.0
(..)
</code></pre>
<a class="header" href="#putty" id="putty"><h2>PuTTY</h2></a>
<p>Download the latest <code>putty.exe</code> from <a href="http://www.chiark.greenend.org.uk/%7Esgtatham/putty/download.html">this site</a> and place it somewhere in your <code>%PATH%</code>.</p>
<a class="header" href="#st-link-usb-driver" id="st-link-usb-driver"><h2>ST-LINK USB driver</h2></a>
<p>You'll also need to install <a href="http://www.st.com/en/embedded-software/stsw-link009.html">this USB driver</a> or OpenOCD won't work. Follow the installer
instructions and make sure you install the right (32-bit or 64-bit) version of the driver.</p>
<p>That's all! Go to the <a href="/intro/install/verify.html">next section</a>.</p>
<a class="header" href="#verify-installation" id="verify-installation"><h1>Verify Installation</h1></a>
<a class="header" href="#tooling" id="tooling"><h1>Tooling</h1></a>
<blockquote>
<p>❌: <strong>This section should cover:</strong></p>
<ul>
<li>Basically explaining all the tools we installed in the previous chapter, what they are used for, etc.</li>
</ul>
</blockquote>
<a class="header" href="#rustc" id="rustc"><h2>rustc</h2></a>
<p>What is this, what is it used for, and why are we using this tool?</p>
<a class="header" href="#cargo" id="cargo"><h2>Cargo</h2></a>
<p>What is this, what is it used for, and why are we using this tool?</p>
<a class="header" href="#itmdump-1" id="itmdump-1"><h2>itmdump</h2></a>
<p>What is this, what is it used for, and why are we using this tool?</p>
<a class="header" href="#openocd-1" id="openocd-1"><h2>OpenOCD</h2></a>
<p>What is this, what is it used for, and why are we using this tool?</p>
<a class="header" href="#arm-none-eabi-gcc" id="arm-none-eabi-gcc"><h2>arm-none-eabi-gcc</h2></a>
<p>What is this, what is it used for, and why are we using this tool?</p>
<a class="header" href="#arm-none-eabi-ld" id="arm-none-eabi-ld"><h2>arm-none-eabi-ld</h2></a>
<p>What is this, what is it used for, and why are we using this tool?</p>
<a class="header" href="#arm-none-eabi-gdb" id="arm-none-eabi-gdb"><h2>arm-none-eabi-gdb</h2></a>
<p>What is this, what is it used for, and why are we using this tool?</p>
<a class="header" href="#minicom--putty" id="minicom--putty"><h2>minicom / putty</h2></a>
<p>What is this, what is it used for, and why are we using this tool?</p>
<blockquote>
<p><strong>⚠️: This section contains exports from <a href="https://japaric.github.io/discovery/">Japaric's Discovery</a> book.</strong></p>
<p>Contents should be reviewed for consistency in the context
of this book before &quot;publishing&quot;</p>
</blockquote>
<a class="header" href="#meet-your-hardware" id="meet-your-hardware"><h1>Meet your hardware</h1></a>
<p>Let's get familiar with the hardware we'll be working with.</p>
<a class="header" href="#stm32f3discovery-the-f3" id="stm32f3discovery-the-f3"><h2>STM32F3DISCOVERY (the &quot;F3&quot;)</h2></a>
<p align="center">
<img title="F3" src="/assets/f3.jpg">
</p>
<p>We'll refer to this board as &quot;F3&quot; throughout this book.</p>
<p>What does this board contain?</p>
<ul>
<li>
<p>A STM32F303VCT6 microcontroller. This microcontroller has</p>
<ul>
<li>
<p>A single core ARM Cortex-M4F processor with hardware support for single precision floating point
operations and a maximum clock frequency of 72 MHz.</p>
</li>
<li>
<p>256 KiB of &quot;Flash&quot; memory. (1 KiB = 10<strong>24</strong> bytes)</p>
</li>
<li>
<p>48 KiB of RAM.</p>
</li>
<li>
<p>many &quot;peripherals&quot;: timers, GPIO, I2C, SPI, USART, etc.</p>
</li>
<li>
<p>lots of &quot;pins&quot; that are exposed in the two lateral &quot;headers&quot;.</p>
</li>
<li>
<p><strong>IMPORTANT</strong> This microcontroller operates at (around) 3.3V.</p>
</li>
</ul>
</li>
<li>
<p>An <a href="https://en.wikipedia.org/wiki/Accelerometer">accelerometer</a> and a <a href="https://en.wikipedia.org/wiki/Magnetometer">magnetometer</a> (in a single package).</p>
</li>
</ul>
<ul>
<li>A <a href="https://en.wikipedia.org/wiki/Gyroscope">gyroscope</a>.</li>
</ul>
<ul>
<li>
<p>8 user LEDs arranged in the shape of a compass</p>
</li>
<li>
<p>A second microcontroller: a STM32F103CBT. This microcontroller is actually part of an on-board
programmer and debugger named ST-LINK and is connected to the USB port named &quot;USB ST-LINK&quot;.</p>
</li>
<li>
<p>There's a second USB port, labeled &quot;USB USER&quot; that is connected to the main microcontroller, the
STM32F303VCT6, and can be used in applications.</p>
</li>
</ul>
<a class="header" href="#a-no_std-rust-environment" id="a-no_std-rust-environment"><h1>A <code>no_std</code> Rust Environment</h1></a>
<blockquote>
<p>❌: <strong>This section should cover:</strong></p>
<ul>
<li>what #[no_std] means: no I/O (filesystems), allocation, etc.</li>
</ul>
</blockquote>
<a class="header" href="#blinking-your-first-led" id="blinking-your-first-led"><h1>Blinking your first LED</h1></a>
<blockquote>
<p>❌: This section has not yet been written. Please refer to <a href="https://github.com/rust-lang-nursery/embedded-wg/issues/117">embedded-wg#117</a> for discussion of this section.</p>
</blockquote>
<a class="header" href="#static-guarantees" id="static-guarantees"><h1>Static Guarantees</h1></a>
<blockquote>
<p>❌: This section has not yet been written. Please refer to <a href="https://github.com/rust-lang-nursery/embedded-wg/issues/118">embedded-wg#817</a> for discussion of this section.</p>
</blockquote>
<a class="header" href="#portability" id="portability"><h1>Portability</h1></a>
<blockquote>
<p>❌: This section has not yet been written. Please refer to <a href="https://github.com/rust-lang-nursery/embedded-wg/issues/119">embedded-wg#119</a> for discussion of this section.</p>
</blockquote>
<a class="header" href="#singletons" id="singletons"><h1>Singletons</h1></a>
<blockquote>
<p>I see quite a bit of overlap between singletons and the &quot;static guarantess&quot; and &quot;dynamic data structures&quot; sections. It may be best to write those two first and the decide whether we want a standalone section on singletons (I think a standalone section would end up being too short and / or may not properly showcase its usefulness without applying it to something like configuration or memory management).</p>
<ul>
<li>@japaric</li>
</ul>
</blockquote>
<a class="header" href="#concurrency" id="concurrency"><h1>Concurrency</h1></a>
<blockquote>
<p>❌: This section has not yet been written. Please refer to <a href="https://github.com/rust-lang-nursery/embedded-wg/issues/124">embedded-wg#124</a> for discussion of this section.</p>
</blockquote>
<a class="header" href="#dynamic-data-structures" id="dynamic-data-structures"><h1>Dynamic Data Structures</h1></a>
<blockquote>
<p>❌: This section has not yet been written. Please refer to <a href="https://github.com/rust-lang-nursery/embedded-wg/issues/125">embedded-wg#125</a> for discussion of this section.</p>
</blockquote>
<a class="header" href="#tips-for-embedded-c-developers" id="tips-for-embedded-c-developers"><h1>Tips for embedded C developers</h1></a>
<blockquote>
<p>❌: This section has not yet been written. Please refer to <a href="https://github.com/rust-lang-nursery/embedded-wg/issues/126">embedded-wg#126</a> for discussion of this section.</p>
</blockquote>
<a class="header" href="#interoperability" id="interoperability"><h1>Interoperability</h1></a>
<blockquote>
<p>❌: This section has not yet been written. Please refer to <a href="https://github.com/rust-lang-nursery/embedded-wg/issues/48">embedded-wg#48</a> for discussion of this section.</p>
</blockquote>
<a class="header" href="#a-little-c-with-your-rust" id="a-little-c-with-your-rust"><h1>A little C with your Rust</h1></a>
<a class="header" href="#a-little-rust-with-your-c" id="a-little-rust-with-your-c"><h1>A little Rust with your C</h1></a>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
